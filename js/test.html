<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test</title>
</head>
<body>
    <p id = "hatter">mad hatter</p>
    <button id="sumbitButton" onclick="fun1();">Click me</button>

    <script>
        function fun1(){
            print("Respond soon.")
        }
    </script>
    <form id="bookingForm">
        <div class="row g-4 form">
            <div class="col-lg-4 col-md-6">
                <select id="country" class="form-select border-primary p-2" aria-label="Default select example">
                    <option selected>Select Country</option>
                    <option value="1">USA</option>
                    <option value="2">UK</option>
                    <option value="3">India</option>
                </select>
            </div>
            <div class="col-lg-4 col-md-6">
                <select id="city" class="form-select border-primary p-2" aria-label="Default select example">
                    <option selected>Select City</option>
                    <option value="1">Depend On Country</option>
                    <option value="2">UK</option>
                    <option value="3">India</option>
                </select>
            </div>
            <div class="col-lg-4 col-md-6">
                <select id="palace" class="form-select border-primary p-2" aria-label="Default select example">
                    <option selected>Select Palace</option>
                    <option value="1">Depend On Country</option>
                    <option value="2">UK</option>
                    <option value="3">India</option>
                </select>
            </div>
            <div class="col-lg-4 col-md-6">
                <select id="eventType" class="form-select border-primary p-2" aria-label="Default select example">
                    <option selected>Small Event</option>
                    <option value="1">Event Type</option>
                    <option value="2">Big Event</option>
                    <option value="3">Small Event</option>
                </select>
            </div>
            <div class="col-lg-4 col-md-6">
                <select id="guests" class="form-select border-primary p-2" aria-label="Default select example">
                    <option selected>No. Of Guests</option>
                    <option value="1">100-200</option>
                    <option value="2">300-400</option>
                    <option value="3">500-600</option>
                    <option value="4">700-800</option>
                    <option value="5">900-1000</option>
                    <option value="6">1000+</option>
                </select>
            </div>
            <div class="col-lg-4 col-md-6">
                <select id="foodType" class="form-select border-primary p-2" aria-label="Default select example">
                    <option selected>Vegetarian</option>
                    <option value="1">Vegetarian</option>
                    <option value="2">Non Vegetarian</option>
                </select>
            </div>
            <div class="col-lg-4 col-md-6">
                <input type="mobile" id="contact" class="form-control border-primary p-2" placeholder="Your Contact No.">
            </div>
            <div class="col-lg-4 col-md-6">
                <input type="date" id="date" class="form-control border-primary p-2" placeholder="Select Date">
            </div>
            <div class="col-lg-4 col-md-6">
                <input type="email"  id="email" class="form-control border-primary p-2" placeholder="Enter Your Email">
            </div>
            <div class="col-12 text-center">
                <button type="submit" class="btn btn-primary px-5 py-3 rounded-pill">Submit Now</button>
            </div>
        </div>
    </form>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            document.getElementById("bookingForm").addEventListener("submit", function (event) {
                event.preventDefault(); // Prevent form from submitting the default way
        
                // Fetching user inputs using getElementById
                const country = document.getElementById("country").value;
                const city = document.getElementById("city").value;
                const palace = document.getElementById("palace").value;
                const eventType = document.getElementById("eventType").value;
                const guests = document.getElementById("guests").value;
                const foodType = document.getElementById("foodType").value;
                const contact = document.getElementById("contact").value;
                const date = document.getElementById("date").value;
                const email = document.getElementById("email").value;
        
                // Store data in an object
                const formData = {
                    country: country,
                    city: city,
                    palace: palace,
                    eventType: eventType,
                    guests: guests,
                    foodType: foodType,
                    contact: contact,
                    date: date,
                    email: email
                };
        
                console.log("Collected Form Data:", formData);
        
                // Send data to Flask API
                fetch("http://127.0.0.1:5000/api/book", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(formData)
                })
                .then(response => response.json())
                .then(data => {
                    console.log("Success:", data);
                    alert("Booking submitted successfully!");
                })
                .catch(error => {
                    console.error("Error:", error);
                    alert("Failed to submit booking.");
                });
            });
        });
        
        
    </script>
</body>
</html>